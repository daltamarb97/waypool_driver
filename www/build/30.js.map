{"version":3,"sources":["../../src/pages/add-schedule/add-schedule.module.ts","../../src/pages/add-schedule/add-schedule.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddSchedulePage } from './add-schedule';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddSchedulePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddSchedulePage),\r\n  ],\r\n  exports: [\r\n    AddSchedulePage\r\n  ]\r\n})\r\nexport class AddSchedulePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-schedule/add-schedule.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NavController, ViewController, ModalController, NavParams, Tabs, AlertController, App, IonicPage } from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { SignUpService } from '../../services/signup.service';\r\nimport { sendCoordsService } from '../../services/sendCoords.service';\r\n\r\nimport { sendUsersService } from '../../services/sendUsers.service';\r\nimport { priceService } from '../../services/price.service';\r\nimport { geofireService } from '../../services/geofire.services';\r\nimport { Subscription, Subject, Subscriber } from 'rxjs';\r\nimport * as moment from 'moment';\r\nimport { MetricsService } from '../../services/metrics.service';\r\n\r\n \r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-add-schedule',\r\n  templateUrl: 'add-schedule.html',\r\n})\r\nexport class AddSchedulePage {\r\n\r\n  accepted:any;\r\n  button1WasTapped:boolean;\r\n  button2WasTapped:boolean;\r\n  button1WasntTapped:boolean = true;\r\n  button2WasntTapped:boolean = true;\r\n  textMessage: string;\r\n  startHour:any;\r\n  userId: any;\r\n  geofireType:string;\r\n  imageURL:any;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public alertCtrl: AlertController, public signUpService: SignUpService, public angularFireAuth: AngularFireAuth) {\r\n  \r\n    this.userId = this.angularFireAuth.auth.currentUser.uid;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AddSchedulePage');\r\n  }\r\n\r\n\r\n  dismiss(){\r\n    this.viewCtrl.dismiss(this.accepted);\r\n\r\n  }\r\n\r\n  button1(){\r\n    console.log('fue presionado boton 1')\r\n    this.button1WasTapped = true;\r\n    this.button2WasTapped = false;\r\n    this.button1WasntTapped = false;\r\n    this.button2WasntTapped = true;\r\n    this.textMessage = 'trabajo/universidad a CASA';\r\n    this.geofireType = 'destination';\r\n    this.imageURL = 'assets/imgs/home.png';\r\n  }\r\n\r\n  button2(){\r\n    console.log('fue presionado boton 2')\r\n    this.button1WasTapped = false;\r\n    this.button2WasTapped = true;\r\n    this.button1WasntTapped = true;\r\n    this.button2WasntTapped = false;\r\n    this.textMessage = 'casa al TRABAJO/UNIVERSIDAD'\r\n    this.geofireType = 'origin';\r\n    this.imageURL = 'assets/imgs/work.png';\r\n  }\r\n\r\n  confirm(){\r\n    if(this.button1WasntTapped && this.button2WasntTapped === true){\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Debes seleccionar una opción',\r\n        subTitle: '¿a esta hora vas de tu trabajo a tu casa o de tu casa a tu trabajo?',\r\n        buttons: ['OK']\r\n      });\r\n      alert.present();\r\n    }else if(this.startHour === undefined || this.startHour === null){\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Debes seleccionar una hora de partida',\r\n        subTitle: '¿A qué hora sales del trabajo o de tu casa?',\r\n        buttons: ['OK']\r\n      });\r\n      alert.present();\r\n    }else if(this.button1WasntTapped === true && this.button2WasntTapped === true && this.startHour === undefined ){\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Información incompleta',\r\n        subTitle: 'Es aqui donde debes decirnos como te movilizas del trabajo a tu casa o de tu casa al trabajo',\r\n        buttons: ['OK']\r\n      });\r\n      alert.present();\r\n    }else{\r\n      const alert = this.alertCtrl.create({\r\n        title: '¿vas de tu ' + this.textMessage + ' a las ' + this.startHour + '?',\r\n        buttons: [\r\n          {\r\n            text: 'Confirmo este horario',\r\n            handler: () => {\r\n              this.signUpService.pushSchedule(this.signUpService.userPlace, this.userId, this.startHour, this.geofireType, this.textMessage, this.imageURL );\r\n              this.viewCtrl.dismiss();\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n    \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-schedule/add-schedule.ts"],"sourceRoot":""}