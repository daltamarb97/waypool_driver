{"version":3,"sources":["../../src/pages/confirmpopup/confirmpopup.ts","../../src/pages/confirmpopup/confirmpopup.module.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { Component} from '@angular/core';\nimport { NavController, ViewController, ModalController, NavParams, ToastController, IonicPage, AlertController} from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\n// import { AngularFireDatabase } from 'angularfire2/database';\nimport { SignUpService } from '../../services/signup.service';\nimport { sendCoordsService } from '../../services/sendCoords.service';\n// import { RidetodayPage } from '../ridetoday/ridetoday';\n// import { MyridePage } from '../myride/myride';\n// import { TabsPage } from '../tabs/tabs';\nimport { sendUsersService } from '../../services/sendUsers.service';\nimport { geofireService } from '../../services/geofire.services';\nimport { instancesService } from '../../services/instances.service';\nimport { Subject } from 'rxjs';\n\n\n@IonicPage()\n\n@Component({\n\tselector: 'page-confirmpopup',\n\ttemplateUrl: 'confirmpopup.html'\n})\nexport class ConfirmpopupPage {\n  \n\n  user:any;\n  userDriver:any ;\n  locationOrigin:any =[];\n  locationDestination:any =[];\n  userDriverUid=this.AngularFireAuth.auth.currentUser.uid\n  accepted: any;\n  infoUser:any = {};\n  unsubscribe = new Subject;\n  pickingUsers:any =  [];\n  pickedUpUsers:any = [];\n  constructor(public navCtrl: NavController,public sendUsersService: sendUsersService, public SignUpService: SignUpService, public sendCoordsService: sendCoordsService,public modalCtrl: ModalController, private AngularFireAuth: AngularFireAuth, public viewCtrl:ViewController,public navParams: NavParams, public geoFireService: geofireService, public instances: instancesService, public toastCtrl: ToastController, public alertCtrl: AlertController ) {\n      //we get the info of the users with navParams\n      this.user= this.navParams.get('user') \n      console.log(this.user)\n  \n         //get origin from driver\n      this.sendCoordsService.getOrigin(this.SignUpService.userUniversity, this.userDriverUid).takeUntil(this.unsubscribe)\n      .subscribe( origin => {\n        this.locationOrigin = origin;\n      })\n         //get destination from driver\n      this.sendCoordsService.getDestination(this.SignUpService.userUniversity, this.userDriverUid).takeUntil(this.unsubscribe)\n        .subscribe( destination => {\n          this.locationDestination = destination;\n\t\t})\n\t\t\n\t\tthis.SignUpService.getMyInfoDriver(this.SignUpService.userUniversity, this.userDriverUid).takeUntil(this.unsubscribe)\n\t\t.subscribe(userDriver => {\n\t\t\tthis.userDriver = userDriver;\n\t\t\tthis.pickingUsers = this.userDriver.trips.pickingUsers;\n\t\t\tthis.pickedUpUsers = this.userDriver.trips.pickedUpUsers;\n\n\t\t});\n\t\t\n   \n    }\n\n\tacceptUser() {\n\tif(this.userDriver.trips.pickingUsers){\n\n\t\tif(this.userDriver.trips.pickedUpUsers){\n\n\n\t\t\tif(Object.keys(this.pickingUsers).length + Object.keys(this.pickedUpUsers).length >= 4){\n\n\n\t\t\t\tthis.sendUsersService.removeUsersOnListRideTotal(this.SignUpService.userUniversity, this.userDriverUid);\n\t\t\t\t// this.geoFireService.cancelGeoqueryDest();\n\t\t\t\t// this.geoFireService.cancelGeoqueryOr();\n\t\t\t\tconst alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'limite de estudiantes permitido',\n\t\t\t\t\tsubTitle: 'ya recogiste o aceptaste más de 4 personas. Este es el limite de personas para cada viaje',\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t  });\n\t\t\t\t  alert.present();\n\n\t\t\t\tthis.instances.turnOntripUsersFalse(this.SignUpService.userUniversity, this.user.userId);\n\t\t\t}else{\n\n\n\t\t\t\tconsole.log('before delete')\n\t\t\t\t// this.sendUsersService.removeUsersOnListRide(this.userDriverUid, this.user.userId);\n\t\t\t\tconsole.log('after delete')\n\t\t\t\tthis.sendUsersService.pushPickingUpUsersOnDrivers(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId, this.user.origin, this.user.destination, this.user.name, this.user.lastname, this.user.phone, this.user.about);\n\t\t\t\tthis.sendUsersService.pushDriverOnUsers(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId, this.locationOrigin, this.locationDestination, this.userDriver.name, this.userDriver.lastname, this.userDriver.phone,this.userDriver.trips.price,this.userDriver.trips.car, this.userDriver.about);\n\t\t\t\t\tthis.geoFireService.deleteUserListRide(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId);\n\t\t\t\t\tthis.geoFireService.deleteUserListRide(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId);\n\t\t\n\t\t\t\t\tthis.instances.turnOntripUsers(this.SignUpService.userUniversity,this.user.userId);\n\t\t\t//   this.sendUsersService.removeUsersOnListRide(this.userDriverUid, this.user.userId);\n\t\t\t  this.instances.turnOntripUsers(this.SignUpService.userUniversity,this.user.userId);\n\t\t\t  this.accepted = true;\n\t\t\t  this.dismiss();\n\t\t\t\tconst toast = this.toastCtrl.create({\n\t\t\t\t\tmessage: `¡Haz aceptado a ${this.user.name} en tu viaje!, Acepta otros compañeros y dirigete a Viajes para encontrar su dirección`,\n\t\t\t\t\tduration: 4500,\n\t\t\t\t\tposition: 'middle'\n\t\t\t\t});\n\t\t\t\ttoast.present();\n\t\t\t}\n\t\t}else if(Object.keys(this.pickingUsers).length >= 4){\n\n\n\t\t\tthis.sendUsersService.removeUsersOnListRideTotal(this.SignUpService.userUniversity, this.userDriverUid);\n\t\t\t\t// this.geoFireService.cancelGeoqueryDest();\n\t\t\t\t// this.geoFireService.cancelGeoqueryOr();\n\t\t\t\tconst alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'limite de estudiantes permitido',\n\t\t\t\t\tsubTitle: 'ya recogiste o aceptaste más de 4 personas. Este es el limite de personas para cada viaje',\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t  });\n\t\t\t\t  alert.present();\n\t\t\t\t  this.instances.turnOntripUsersFalse(this.SignUpService.userUniversity, this.user.userId);\n\n\t\t\t\n\t\t}else{\n\t\t\tconsole.log('before delete')\n\t\t\t\t// this.sendUsersService.removeUsersOnListRide(this.userDriverUid, this.user.userId);\n\t\t\t\tconsole.log('after delete')\n\t\t\t\tthis.sendUsersService.pushPickingUpUsersOnDrivers(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId, this.user.origin, this.user.destination, this.user.name, this.user.lastname, this.user.phone, this.user.about);\n\t\t\t\tthis.sendUsersService.pushDriverOnUsers(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId, this.locationOrigin, this.locationDestination, this.userDriver.name, this.userDriver.lastname, this.userDriver.phone,this.userDriver.trips.price,this.userDriver.trips.car,this.userDriver.about);\n\t\t\t\t\tthis.geoFireService.deleteUserListRide(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId);\n\t\t\t\t\tthis.geoFireService.deleteUserListRide(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId);\n\t\t\n\t\t\t\t\tthis.instances.turnOntripUsers(this.SignUpService.userUniversity,this.user.userId);\n\t\t\t//   this.sendUsersService.removeUsersOnListRide(this.userDriverUid, this.user.userId);\n\t\t\t  this.instances.turnOntripUsers(this.SignUpService.userUniversity, this.user.userId);\n\t\t\t  this.accepted = true;\n\t\t\t  this.dismiss();\n\t\t\t\tconst toast = this.toastCtrl.create({\n\t\t\t\t\tmessage: `¡Haz aceptado a ${this.user.name} en tu viaje!, Acepta otros compañeros y dirigete a Viajes para encontrar su dirección`,\n\t\t\t\t\tduration: 4500,\n\t\t\t\t\tposition: 'middle'\n\t\t\t\t});\n\t\t\t\ttoast.present();\n\t\t}\n\t}else{\n\t\tconsole.log('g');\n\n\t\tconsole.log('before delete')\n\t\t\t// this.sendUsersService.removeUsersOnListRide(this.userDriverUid, this.user.userId);\n\t\t\tconsole.log('after delete')\n\t\t\tthis.sendUsersService.pushPickingUpUsersOnDrivers(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId, this.user.origin, this.user.destination, this.user.name, this.user.lastname, this.user.phone, this.user.about);\n\t\t\tthis.sendUsersService.pushDriverOnUsers(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId, this.locationOrigin, this.locationDestination, this.userDriver.name, this.userDriver.lastname, this.userDriver.phone,this.userDriver.trips.price,this.userDriver.trips.car, this.userDriver.about);\n\t\t\t\tthis.geoFireService.deleteUserListRide(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId);\n\t\t\t\tthis.geoFireService.deleteUserListRide(this.SignUpService.userUniversity,this.userDriverUid, this.user.userId);\n\t\n\t\t\t\tthis.instances.turnOntripUsers(this.SignUpService.userUniversity,this.user.userId);\n\t\t//   this.sendUsersService.removeUsersOnListRide(this.userDriverUid, this.user.userId);\n\t\t  this.instances.turnOntripUsers(this.SignUpService.userUniversity,this.user.userId);\n\t\t  this.accepted = true;\n\t\t  this.dismiss();\n\t\t\tconst toast = this.toastCtrl.create({\n\t\t\t\tmessage: `¡Haz aceptado a ${this.user.name} en tu viaje!, Acepta otros compañeros y dirigete a Viajes para encontrar su dirección`,\n\t\t\t\tduration: 4500,\n\t\t\t\tposition: 'middle'\n\t\t\t});\n\t\t\ttoast.present();\n\t}\n\n }\n  \n\n\tdismiss() {\n\t\tconsole.log('deleted on click')\n\t\tthis.viewCtrl.dismiss(this.accepted);\n\t\tthis.unsubscribe.next();\n\t\tthis.unsubscribe.complete();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/confirmpopup/confirmpopup.ts","\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ConfirmpopupPage } from './confirmpopup';\n \n@NgModule({\n  declarations: [\n    ConfirmpopupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ConfirmpopupPage),\n  ],\n  exports: [\n    ConfirmpopupPage\n  ]\n})\nexport class ConfirmpopupPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/confirmpopup/confirmpopup.module.ts"],"sourceRoot":""}