{"version":3,"sources":["../../src/pages/listride/listride.module.ts","../../node_modules/angularfire2/database/index.js","../../src/pages/listride/listride.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ListridePage } from './listride';\n \n@NgModule({\n  declarations: [\n    ListridePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListridePage),\n  ],\n  exports: [\n    ListridePage\n  ]\n})\nexport class ListridePageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/listride/listride.module.ts","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"@angular/fire/database\"));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi93cmFwcGVyL3NyYy9kYXRhYmFzZS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDRDQUF1QyJ9\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angularfire2/database/index.js\n// module id = 602\n// module chunks = 0 1 2 3 4","import { Component } from '@angular/core';\nimport { NavController, ModalController, ToastController, IonicPage } from 'ionic-angular';\n\nimport { AngularFireDatabase, AngularFireList} from 'angularfire2/database';\nimport { sendCoordsService } from '../../services/sendCoords.service';\nimport { SignUpService } from '../../services/signup.services';\nimport { ConfirmpopupPage } from '../confirmpopup/confirmpopup';\nimport { geofireService } from '../../services/geoFire.service';\nimport { AngularFireAuth } from 'angularfire2/auth';\n@IonicPage()\n\n@Component({\n  selector: 'page-listride',\n  templateUrl: 'listride.html'\n})\nexport class ListridePage {\n  driversAvailable:any = [];\n\n  locationOrigin:any =[];\n  locationOriginUser:any =[];\n  locationDestination:any =[];\n  locationDestinationUser:any =[];\n  user:any;\n  userUid=this.AngularFireAuth.auth.currentUser.uid;\n\n  constructor(public navCtrl: NavController,public toastCtrl: ToastController,  private AngularFireAuth: AngularFireAuth,private afDB: AngularFireDatabase, public SignUpService: SignUpService, public sendCoordsService: sendCoordsService,public modalCtrl: ModalController, private geoFireService: geofireService ) {\n       \n    this.SignUpService.getMyInfo(this.userUid).subscribe(user=>{\n      this.user = user;\n      \n    })\n\n        this.sendCoordsService.getOrigin(this.userUid)\n        .subscribe( origin => {\n          this.locationOrigin = origin;\n          // this.locationOrigin.push(origin)\n          console.log(origin);\n        })\n        this.sendCoordsService.getOriginUser(this.userUid)\n        .subscribe( originUser => {\n          this.locationOriginUser = originUser;\n          // this.locationOrigin.push(origin)\n          console.log(originUser);\n        })\n      \n      this.sendCoordsService.getDestination(this.userUid)\n        .subscribe( destination => {\n          this.locationDestination = destination;\n          // this.locationOrigin.push(origin)\n          console.log(destination);\n        })\n\n        this.sendCoordsService.getDestinationUser(this.userUid)\n        .subscribe( destinationUser => {\n          this.locationDestinationUser = destinationUser;\n          // this.locationOrigin.push(origin)\n          console.log(destinationUser);\n        })\n    // this.SignUpService.getDrivers()\n    //   .subscribe(driver => {\n    //     this.driversAvailable = driver;\n    //     console.log(this.driversAvailable);\n        \n    //   });\n\n     \n  };\n\n\n\nionViewDidLoad(){\n  this.geoFireService.getDriversAvailableForUser(this.userUid)\n    .subscribe(drivers=>{\n        this.driversAvailable = drivers;\n        console.log(this.driversAvailable);\n    })\n}\n\n\n \n showToastWithCloseButton(noteDriver,nameDriver) {\n   if(noteDriver == ''|| noteDriver == null) {\n    const toast = this.toastCtrl.create({\n      message: `${nameDriver}: No hay nota`,\n      duration:1500,\n      position:'bottom'\n    });\n    toast.present();\n   \n   } else {\n    const toast = this.toastCtrl.create({\n      message: `${nameDriver} : ${noteDriver}`,\n      showCloseButton: true,\n      closeButtonText: 'Ok'\n    });\n    toast.present();\n   }\n  \n}\n confirmpopup(driver){\n  if(this.user.trips.onTrip == true || this.user.trips.pickedUp == true){\n    // this.geoFireService.deleteDriverListRideTotal(this.userUid);\n    this.geoFireService.deleteDriverListRideTotal(this.userUid);\n    const toast = this.toastCtrl.create({\n      message: `${this.user.name} : No puedes escoger otro conductor mientras estes en un viaje, por favor dirígete a Mi Viaje y cancelalo. `,\n      showCloseButton: true,\n      closeButtonText: 'Ok'\n    });\n    toast.present();\n  } else {\n\n let modal = this.modalCtrl.create('ConfirmpopupPage',{driver});\n modal.present();\n console.log(driver)\n  }\n \n  }\n  help(){\n    const toast = this.toastCtrl.create({\n      message: 'Aquí te saldrán los estudiantes con carro, escoge con cuál quieres compartir tu viaje y espera a que te acepte para poder comunicarte con el.',\n      showCloseButton:true,\n      closeButtonText: 'OK',\n      position:'top'\n         });\n    toast.present();\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/listride/listride.ts"],"sourceRoot":""}